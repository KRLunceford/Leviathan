<section data-ng-controller="ArticlesController" data-ng-init="find()">
	<div class="col-xs-12 col-md-9">
		<div class="page-header">
			<h1>Articles</h1>
		</div>
		<div class="list-group">
			<a data-ng-repeat="article in articles" data-ng-href="#!/articles/{{article._id}}" class="list-group-item">
				<small class="list-group-item-text">
					Posted on
					<span data-ng-bind="article.created | date:'mediumDate'"></span>
					by
					<span data-ng-bind="article.user.displayName"></span>
				</small>
				<h4 class="list-group-item-heading" data-ng-bind="article.title"></h4>
				<p class="list-group-item-text" data-ng-bind="article.content"></p>
			</a>
		</div>
		<div class="alert alert-warning text-center" data-ng-if="articles.$resolved && !articles.length">
			No articles yet, why don't you <a href="/#!/articles/create">create one</a>?
		</div>
	</div>
	<div class="col-xs-6 col-md-3" id="sidebar">
		
		<div id="popular" data-ng-controller="SidebarController">
			<div>
				<div>
					<h4 class="left">Popular Images</h4>
					<span class="right">
						<a href="/#!/photos">View All</a>
						<span>|</span>
						<a ng-show="authentication.user._id" href="/#!/photos/create">Add New</a>
					</span>
				</div>
				<div class="clearF">
					<a data-ng-repeat="photo in popular | limitTo:3 | orderBy: '-views'" data-ng-href="#!/photos/{{photo._id}}">
						<img src="{{photo.image}}" style="max-width: 200px" />
					</a>
				</div>
			</div>
			<div>
				<div>
					<h4 class="left">Popular Blog Posts</h4>
					<span class="right">
						<a href="/#!articles">View All</a>
						<span>|</span>
						<a ng-show="authentication.user._id" href="/#!/articles/create">Add New</a>
					</span>
				</div>
				<div class="clearF">
					<a data-ng-repeat="article in blogs | limitTo:3 | orderBy: '-views'" data-ng-href="#!/articles/{{article._id}}">
						<p data-ng-bind="article.title"></p>
					</a>
				</div>
			</div>
		</div>
	</div>
</section>